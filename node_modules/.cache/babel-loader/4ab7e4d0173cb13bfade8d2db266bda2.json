{"ast":null,"code":"import _regeneratorRuntime from \"/Users/nitheshdumpala/xebia_assement/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/nitheshdumpala/xebia_assement/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/nitheshdumpala/xebia_assement/src/pages/LoginPage.jsx\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\n\nclass Loginpage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userName: \"\",\n      password: \"\"\n    };\n    this.handleUserChange = this.handleUserChange.bind(this);\n    this.handlePassWordChange = this.handlePassWordChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleUserChange(event) {\n    this.setState({\n      userName: event.target.value\n    });\n  }\n\n  handlePassWordChange(event) {\n    this.setState({\n      password: event.target.value\n    });\n  }\n\n  handleSubmit() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _this$state, userName, password, history, response, user;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _this$state = _this.state, userName = _this$state.userName, password = _this$state.password;\n            history = _this.props.history;\n            _context.next = 4;\n            return fetch(\"https://xebiascart.herokuapp.com/users?username=\".concat(userName), {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json;charset=utf-8\"\n              }\n            });\n\n          case 4:\n            response = _context.sent;\n            _context.next = 7;\n            return response.json();\n\n          case 7:\n            user = _context.sent;\n            user.map(user => {\n              if (user.username === userName && user.password === password) {\n                console.log(\"log In success full\");\n\n                _this.props.sendLogin({\n                  userName: userName,\n                  login: true\n                });\n\n                history.push(\"/searchResultsPage\");\n                return true;\n              }\n\n              alert(\"please inter valid details\");\n              console.log(\"log In failure error handling goes here\");\n              return false;\n            });\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }))();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App bgBlack color-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"padding-vertical-lg margin-horizontal-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }, \"sCart\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"login bgBlack text-center padding-vertical-xlg text-size-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }\n    }, \"LogIn\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"margin-vertical-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"userName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, \"User Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"userName\",\n      placeholder: \"userName\",\n      name: \"userName\",\n      onChange: this.handleUserChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"margin-vertical-lg dispaly-flex flex-space-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }, \"Password:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      id: \"password\",\n      placeholder: \"password\",\n      name: \"password\",\n      onChange: this.handlePassWordChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"margin-vertical-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"success text-size-sm\",\n      name: \"button\",\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }, \"LogIn\"))));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    sendLogin: data => {\n      dispatch({\n        type: \"FETCH_LOGIN_SUCCESS\",\n        payload: data\n      });\n    }\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(Loginpage);","map":{"version":3,"sources":["/Users/nitheshdumpala/xebia_assement/src/pages/LoginPage.jsx"],"names":["React","connect","Loginpage","Component","constructor","props","state","userName","password","handleUserChange","bind","handlePassWordChange","handleSubmit","event","setState","target","value","history","fetch","method","headers","response","json","user","map","username","console","log","sendLogin","login","push","alert","render","mapDispatchToProps","dispatch","data","type","payload"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\n\nclass Loginpage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userName: \"\",\n      password: \"\"\n    };\n    this.handleUserChange = this.handleUserChange.bind(this);\n    this.handlePassWordChange = this.handlePassWordChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleUserChange(event) {\n    this.setState({ userName: event.target.value });\n  }\n\n  handlePassWordChange(event) {\n    this.setState({ password: event.target.value });\n  }\n\n  async handleSubmit() {\n    const { userName, password } = this.state;\n    const { history } = this.props;\n    const response = await fetch(\n      `https://xebiascart.herokuapp.com/users?username=${userName}`,\n      {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json;charset=utf-8\"\n        }\n      }\n    );\n\n    const user = await response.json();\n\n    user.map(user => {\n      if (user.username === userName && user.password === password) {\n        console.log(\"log In success full\");\n        this.props.sendLogin({ userName: userName, login: true });\n        history.push(\"/searchResultsPage\");\n        return true;\n      }\n      alert(\"please inter valid details\");\n      console.log(\"log In failure error handling goes here\");\n      return false;\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"App bgBlack color-white\">\n        <h1 className=\"padding-vertical-lg margin-horizontal-lg\">sCart</h1>\n        <div class=\"login bgBlack text-center padding-vertical-xlg text-size-sm\">\n          <div>LogIn</div>\n          <div className=\"margin-vertical-lg\">\n            <label htmlFor=\"userName\">\n              User Name:\n            </label>\n            <input\n              type=\"text\"\n              id=\"userName\"\n              placeholder=\"userName\"\n              name=\"userName\"\n              onChange={this.handleUserChange}\n              required\n            />\n          </div>\n          <div className=\"margin-vertical-lg dispaly-flex flex-space-between\">\n            <label htmlFor=\"password\">\n              Password:\n            </label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              placeholder=\"password\"\n              name=\"password\"\n              onChange={this.handlePassWordChange}\n              required\n            />\n          </div>\n          <div className=\"margin-vertical-lg\">\n            <button\n              className=\"success text-size-sm\"\n              name=\"button\"\n              onClick={this.handleSubmit}\n            >\n              LogIn\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    sendLogin: data => {\n      dispatch({ type: \"FETCH_LOGIN_SUCCESS\", payload: data });\n    }\n  };\n};\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(Loginpage);\n"]},"metadata":{},"sourceType":"module"}