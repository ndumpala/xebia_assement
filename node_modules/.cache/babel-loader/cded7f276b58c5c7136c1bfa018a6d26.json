{"ast":null,"code":"import _regeneratorRuntime from \"/Users/nitheshdumpala/xebia_assement/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/nitheshdumpala/xebia_assement/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/nitheshdumpala/xebia_assement/src/container/HeaderContainer.jsx\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\n\nfunction HeaderContainer(props) {\n  const user = props.user,\n        login = props.login,\n        cartItems = props.cartItems,\n        updateListings = props.updateListings;\n  const cartLength = cartItems && cartItems.length;\n\n  const handleSearch = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      var keyword, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            keyword = event.target.value;\n            _context.next = 3;\n            return fetch(\"https://xebiascart.herokuapp.com/products?title=\".concat(keyword), {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json;charset=utf-8\"\n              }\n            });\n\n          case 3:\n            response = _context.sent;\n            _context.t0 = updateListings;\n            _context.next = 7;\n            return response.json();\n\n          case 7:\n            _context.t1 = _context.sent;\n            (0, _context.t0)(_context.t1);\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n\n    return function handleSearch(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"searchBox display-flex flex-space-between bgBlack padding-vertical-md margin-vertical-md flex-center-align\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \" display-flex padding-horizontal-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://vistapointe.net/images/logo-4.jpg\",\n    width: \"40\",\n    height: \"40\",\n    alt: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"color-white text-size-md padding-vertical-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }, \"sCart\")), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Search Product\",\n    name: \"product\",\n    onChange: event => handleSearch(event),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"color-white padding-horizontal-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, (login || user) && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"margin-vertical-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }), \" Welcome1 \", user), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, cartLength, \" Items \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-shopping-cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 30\n    }\n  }))));\n}\n\nfunction mapStateToProps(state) {\n  const tasks = state.tasks;\n  const userName = tasks.userName,\n        login = tasks.login,\n        cartItems = tasks.cartItems;\n  return {\n    user: sessionStorage.getItem(\"user\") || userName,\n    login,\n    cartItems\n  };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateListings: data => {\n      dispatch({\n        type: \"FETCH_LISTINGS\",\n        payload: data\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderContainer);","map":{"version":3,"sources":["/Users/nitheshdumpala/xebia_assement/src/container/HeaderContainer.jsx"],"names":["React","connect","HeaderContainer","props","user","login","cartItems","updateListings","cartLength","length","handleSearch","event","keyword","target","value","fetch","method","headers","response","json","mapStateToProps","state","tasks","userName","sessionStorage","getItem","mapDispatchToProps","dispatch","data","type","payload"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\n\nfunction HeaderContainer(props) {\n  const { user, login, cartItems, updateListings } = props;\n  const cartLength = cartItems && cartItems.length;\n\n  const handleSearch = async event => {\n    const keyword = event.target.value;\n    const response = await fetch(\n      `https://xebiascart.herokuapp.com/products?title=${keyword}`,\n      {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json;charset=utf-8\"\n        }\n      }\n    );\n    updateListings(await response.json());\n  };\n\n  return (\n    <div className=\"searchBox display-flex flex-space-between bgBlack padding-vertical-md margin-vertical-md flex-center-align\">\n      <div className=\" display-flex padding-horizontal-md\">\n        <img\n          src=\"https://vistapointe.net/images/logo-4.jpg\"\n          width=\"40\"\n          height=\"40\"\n          alt=\"logo\"\n        />\n        <span className=\"color-white text-size-md padding-vertical-sm\">\n          sCart\n        </span>\n      </div>\n\n      <input\n        type=\"text\"\n        placeholder=\"Search Product\"\n        name=\"product\"\n        onChange={event => handleSearch(event)}\n      />\n\n      <div className=\"color-white padding-horizontal-md\">\n        {(login || user) && (\n          <div className=\"margin-vertical-sm\">\n            <i className=\"fa fa-user\" /> Welcome1 {user}\n          </div>\n        )}\n        <div>\n          {cartLength} Items <i className=\"fa fa-shopping-cart\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction mapStateToProps(state) {\n  const { tasks } = state;\n\n  const { userName, login, cartItems } = tasks;\n\n  return {\n    user: sessionStorage.getItem(\"user\") || userName,\n    login,\n    cartItems\n  };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateListings: data => {\n      dispatch({ type: \"FETCH_LISTINGS\", payload: data });\n    }\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(HeaderContainer);\n"]},"metadata":{},"sourceType":"module"}